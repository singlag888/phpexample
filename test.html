<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>


</head>
<body>
<!--
<div id="div1" style="width: 300px;height: 300px; background: pink;">
    div1
    <div id="div2" style="width: 200px;height: 200px; background: yellow;">div2</div>
</div>

<script>
    let div1 = document.getElementById('div1');
    let div2 = document.getElementById("div2");
    //    div1.onclick = function () {
    //        alert("1");
    //    };
    //    div2.onclick = function () {
    //        alert("2");
    //    };

    div1.addEventListener('click', function (e) {
        alert("div1 click");
//        e.stopPropagation();
    }, false);

    div2.addEventListener('click', function (e) {
//        e.preventDefault();
        e.stopPropagation();
        alert("div2 click");
    }, false);

</script>-->


<div id="parent">
    父元素
    <div id="child">
        子元素
    </div>
</div>

<style>

    #parent {
        width: 200px;
        height: 200px;
        text-align: center;
        line-height: 3;
        background: green;
    }

    #child {
        width: 100px;
        height: 100px;
        margin: 0 auto;
        background: orange;
    }

</style>
<script>
    let parent = document.getElementById('parent');
    let child = document.getElementById('child');

    document.body.addEventListener('click', function (e) {
         console.log('click-body');
     }, false);

     parent.addEventListener('click', function (e) {
         console.log('click-parent-事件冒泡');
     }, false);

     parent.addEventListener('click', function (e) {
         console.log('click-parent-事件捕获');
     }, true);

     child.addEventListener('click', function (e) {
         console.log('click-child');
//         e.stopPropagation();
     }, false);

    //    parent.onclick = function (e) {
    //        if (e.target.id == 'child') {
    //            console.log('点击了child元素');
    //        }
    //    }
//    parent.addEventListener('mouseover', function (e) {
////        if (e.target.id == 'parent') {
////            console.log('parent mousevoer');
////        }
////        console.log(e.target.id);
//
////        e.stopPropagation();
////        e = e || window.event;
////        if (fixedMouse(e, parent)) {
////            console.log('parent mouseover');
////        }
//    }, false);
//    parent.addEventListener('mouseout', function (e) {
////        if (e.target.id == 'parent') {
////        console.log('parent mouseout');
//////        }
////        console.log(e.target.id);
////        e.stopPropagation();
//
////        e = e || window.event;
////        if (fixedMouse(e, parent)) {
////            console.log('parent mouseout');
////        }
//    }, false);


    function contains(p, c) {
        return p.contains ?
            p != c && p.contains(c) : !!(p.compareDocumentPosition(c) & 16);
    }

    function fixedMouse(e, target) {
        e = e || window.event;
        var related,
            type = e.type.toLowerCase();//这里获取事件名字
        if (type == 'mouseover') {
            related = e.relatedTarget || e.fromElement
        } else if (type = 'mouseout') {
            related = e.relatedTarget || e.toElement
        } else return true;
        return related && related.prefix != 'xul' && !contains(target, related) && related !== target;
    }


</script>

</body>
</html>